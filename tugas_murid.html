<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pengumpulan Tugas Siswa</title>
    <link rel="stylesheet" href="style.css">
    <link rel="lamannotifikasi" href="notifikasi.html">
    <link rel="lamanlogin" href="index.html">
    <link rel="pengumpulantugas" href="tugas_murid.html">
    <link rel="pengumpulantugas" href="tugas_guru.html">
</head>
<body>
    <div class="container">
        <div class="card-guru" style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 5px solid #ffc107;">
            <h4>ðŸ“Œ Tugas dari Guru:</h4>
            <ul id="tugasBaruGuru" style="list-style: none; padding: 0;">
            </ul>
        </div>
        <div class="login-card">
            <h2>Halaman Pengumpulan Tugas (Siswa)</h2>
            
            <input type="text" id="tugasSiswa" placeholder="Nama Tugas / Judul">
            <button onclick="kirimTugas()">Kirim ke Guru</button>

            <hr>
            <h4>Tugas Saya:</h4>
            <ul id="daftarTugas" style="list-style: none; padding: 0; text-align: left;"></ul>

            <br>
            <a href="index.html" style="color: red;">Logout</a>
        </div>
    </div>

    <script>
    function kirimTugas() {
        const input = document.getElementById('tugasSiswa');
        const tugas = input.value;
        
        if(tugas === "") return alert("Isi nama tugas dulu, bre!");

        // Simpan ke LocalStorage
        let list = JSON.parse(localStorage.getItem('tugasSiswa')) || [];
        list.push(tugas);
        localStorage.setItem('tugasSiswa', JSON.stringify(list));
        
        input.value = ""; // Bersihkan kolom
        tampilkanTugas();
    }

    function tampilkanTugasDariGuru() {
    // Ambil data yang disimpan oleh guru
    const list = JSON.parse(localStorage.getItem('tugasDariGuru')) || [];
    const elemen = document.getElementById('tugasBaruGuru');
    
    if (list.length === 0) {
        elemen.innerHTML = "<li>Belum ada tugas baru dari guru.</li>";
    } else {
        elemen.innerHTML = list.map(t => 
            `<li style="margin-bottom: 10px; border-bottom: 1px dashed #ccc; padding-bottom: 5px;">
                <strong>ðŸ“¢ Instruksi:</strong> ${t}
            </li>`
        ).join('');
    }
}

// Panggil fungsi ini saat halaman dimuat
window.onload = function() {
    tampilkanTugas(); // Fungsi riwayat tugas murid yang sudah ada
    tampilkanTugasDariGuru(); // Fungsi baru untuk melihat tugas guru
};

    // Jalankan saat halaman dibuka
    tampilkanTugas();
    </script>
</body>
</html>